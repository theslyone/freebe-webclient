"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TransactionDetailsController(e,t){e.transaction=t}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};+function(e){var t="Microsoft Internet Explorer"==window.navigator.appName,n=function(t,n){if(this.$element=e(t),this.$input=this.$element.find(":file"),0!==this.$input.length){this.name=this.$input.attr("name")||n.name,this.$hidden=this.$element.find('input[type=hidden][name="'+this.name+'"]'),0===this.$hidden.length&&(this.$hidden=e('<input type="hidden" />'),this.$element.prepend(this.$hidden)),this.$preview=this.$element.find(".fileinput-preview");var a=this.$preview.css("height");"inline"!=this.$preview.css("display")&&"0px"!=a&&"none"!=a&&this.$preview.css("line-height",a),this.original={exists:this.$element.hasClass("fileinput-exists"),preview:this.$preview.html(),hiddenVal:this.$hidden.val()},this.listen()}};n.prototype.listen=function(){this.$input.on("change.bs.fileinput",e.proxy(this.change,this)),e(this.$input[0].form).on("reset.bs.fileinput",e.proxy(this.reset,this)),this.$element.find('[data-trigger="fileinput"]').on("click.bs.fileinput",e.proxy(this.trigger,this)),this.$element.find('[data-dismiss="fileinput"]').on("click.bs.fileinput",e.proxy(this.clear,this))},n.prototype.change=function(t){if(void 0===t.target.files&&(t.target.files=t.target&&t.target.value?[{name:t.target.value.replace(/^.+\\/,"")}]:[]),0!==t.target.files.length){this.$hidden.val(""),this.$hidden.attr("name",""),this.$input.attr("name",this.name);var n=t.target.files[0];if(this.$preview.length>0&&(void 0!==n.type?n.type.match("image.*"):n.name.match(/\.(gif|png|jpe?g)$/i))&&"undefined"!=typeof FileReader){var a=new FileReader,i=this.$preview,r=this.$element;a.onload=function(a){var o=e("<img>").attr("src",a.target.result);t.target.files[0].result=a.target.result,r.find(".fileinput-filename").text(n.name),"none"!=i.css("max-height")&&o.css("max-height",parseInt(i.css("max-height"),10)-parseInt(i.css("padding-top"),10)-parseInt(i.css("padding-bottom"),10)-parseInt(i.css("border-top"),10)-parseInt(i.css("border-bottom"),10)),i.html(o),r.addClass("fileinput-exists").removeClass("fileinput-new"),r.trigger("change.bs.fileinput",t.target.files)},a.readAsDataURL(n)}else this.$element.find(".fileinput-filename").text(n.name),this.$preview.text(n.name),this.$element.addClass("fileinput-exists").removeClass("fileinput-new"),this.$element.trigger("change.bs.fileinput")}},n.prototype.clear=function(e){if(e&&e.preventDefault(),this.$hidden.val(""),this.$hidden.attr("name",this.name),this.$input.attr("name",""),t){var n=this.$input.clone(!0);this.$input.after(n),this.$input.remove(),this.$input=n}else this.$input.val("");this.$preview.html(""),this.$element.find(".fileinput-filename").text(""),this.$element.addClass("fileinput-new").removeClass("fileinput-exists"),!1!==e&&(this.$input.trigger("change"),this.$element.trigger("clear.bs.fileinput"))},n.prototype.reset=function(){this.clear(!1),this.$hidden.val(this.original.hiddenVal),this.$preview.html(this.original.preview),this.$element.find(".fileinput-filename").text(""),this.original.exists?this.$element.addClass("fileinput-exists").removeClass("fileinput-new"):this.$element.addClass("fileinput-new").removeClass("fileinput-exists"),this.$element.trigger("reset.bs.fileinput")},n.prototype.trigger=function(e){this.$input.trigger("click"),e.preventDefault()},e.fn.fileinput=function(t){return this.each(function(){var a=e(this),i=a.data("fileinput");i||a.data("fileinput",i=new n(this,t)),"string"==typeof t&&i[t]()})},e.fn.fileinput.Constructor=n,e(document).on("click.fileinput.data-api",'[data-provides="fileinput"]',function(t){var n=e(this);if(!n.data("fileinput")){n.fileinput(n.data());var a=e(t.target).closest('[data-dismiss="fileinput"],[data-trigger="fileinput"]');a.length>0&&(t.preventDefault(),a.trigger("click.bs.fileinput"))}})}(window.jQuery),angular.module("theme",["ngCookies","ipCookie","ng-token-auth","ngResource","ngSanitize","ui.router","ui.router.state.events","angularCSS","ngAnimate","ui.sortable","easypiechart","NgSwitchery","sun.scrollable","ui.bootstrap","ui.select","oc.lazyLoad","xeditable","ngFileUpload","ngImgCrop","ngIdle","angular-spinkit","theme.core.templates","theme.core.template_overrides","theme.core.panels","theme.core.directives","theme.core.navigation_controller","theme.core.notifications_controller","theme.core.messages_controller","theme.core.home_controller","theme.core.main_controller"]),angular.module("theme.core.home_controller",["theme.core.services"]).controller("HomeController",["$scope","$theme","$ocLazyLoad","$css",function(e,t,n,a){t.set("fullscreen",!0),e.$on("$destroy",function(){t.set("fullscreen",!1)})}]),angular.module("theme.core.main_controller",["theme.core.services"]).controller("MainController",["$scope","$theme","$timeout","progressLoader","$location","$state","$auth","Idle","Keepalive","$uibModal",function(e,t,n,a,i,r,o,s,l,c){function u(){d(),s.watch(),console.log("session timer on")}function d(){e.warning&&(e.warning.close(),e.warning=null),e.timedout&&(e.timedout.close(),e.timedout=null)}e.layoutFixedHeader=t.get("fixedHeader"),e.layoutPageTransitionStyle=t.get("pageTransitionStyle"),e.layoutDropdownTransitionStyle=t.get("dropdownTransitionStyle"),e.layoutPageTransitionStyleList=["bounce","flash","pulse","bounceIn","bounceInDown","bounceInLeft","bounceInRight","bounceInUp","fadeIn","fadeInDown","fadeInDownBig","fadeInLeft","fadeInLeftBig","fadeInRight","fadeInRightBig","fadeInUp","fadeInUpBig","flipInX","flipInY","lightSpeedIn","rotateIn","rotateInDownLeft","rotateInDownRight","rotateInUpLeft","rotateInUpRight","rollIn","zoomIn","zoomInDown","zoomInLeft","zoomInRight","zoomInUp"],e.user=o.user,e.$on("auth:logout-success",function(e){r.go("login")}),e.layoutLoading=!0,e.getLayoutOption=function(e){return t.get(e)},e.setNavbarClass=function(e,n){n.preventDefault(),n.stopPropagation(),t.set("topNavThemeClass",e)},e.setSidebarClass=function(e,n){n.preventDefault(),n.stopPropagation(),t.set("sidebarThemeClass",e)},e.$watch("layoutFixedHeader",function(e,n){void 0!==e&&e!==n&&t.set("fixedHeader",e)}),e.$watch("layoutLayoutBoxed",function(e,n){void 0!==e&&e!==n&&t.set("layoutBoxed",e)}),e.$watch("layoutLayoutHorizontal",function(e,n){void 0!==e&&e!==n&&t.set("layoutHorizontal",e)}),e.$watch("layoutPageTransitionStyle",function(e){t.set("pageTransitionStyle",e)}),e.$watch("layoutDropdownTransitionStyle",function(e){t.set("dropdownTransitionStyle",e)}),e.hideHeaderBar=function(){t.set("headerBarHidden",!0)},e.showHeaderBar=function(e){e.stopPropagation(),t.set("headerBarHidden",!1)},e.toggleLeftBar=function(){if(e.layoutIsSmallScreen)return t.set("leftbarShown",!t.get("leftbarShown"));t.set("leftbarCollapsed",!t.get("leftbarCollapsed"))},e.toggleRightBar=function(){t.set("rightbarCollapsed",!t.get("rightbarCollapsed"))},e.toggleSearchBar=function(e){e.stopPropagation(),e.preventDefault(),t.set("showSmallSearchBar",!t.get("showSmallSearchBar"))},e.chatters=[{id:0,status:"online",avatar:"potter.png",name:"Jeremy Potter"},{id:1,status:"online",avatar:"tennant.png",name:"David Tennant"}],e.currentChatterId=null,e.hideChatBox=function(){t.set("showChatBox",!1)},e.toggleChatBox=function(n,a){a.preventDefault(),e.currentChatterId===n.id?t.set("showChatBox",!t.get("showChatBox")):t.set("showChatBox",!0),e.currentChatterId=n.id},e.hideChatBox=function(){t.set("showChatBox",!1)},e.$on("themeEvent:maxWidth767",function(a,i){n(function(){e.layoutIsSmallScreen=i,i?t.set("leftbarCollapsed",!1):t.set("leftbarShown",!1)})}),e.$on("themeEvent:changed:fixedHeader",function(t,n){e.layoutFixedHeader=n}),e.$on("themeEvent:changed:layoutHorizontal",function(t,n){e.layoutLayoutHorizontal=n}),e.$on("themeEvent:changed:layoutBoxed",function(t,n){e.layoutLayoutBoxed=n}),e.isLoggedIn=!0,e.logOut=function(){e.isLoggedIn=!1},e.logIn=function(){e.isLoggedIn=!0},e.rightbarAccordionsShowOne=!1,e.rightbarAccordions=[{open:!0},{open:!0},{open:!0},{open:!0},{open:!0},{open:!0},{open:!0}],e.$on("$stateChangeStart",function(){if(""===i.path())return r.go("dashboard");a.start(),a.set(50)}),e.$on("$stateChangeSuccess",function(){a.end(),e.layoutLoading&&(e.layoutLoading=!1)}),e.$on("auth:login-success",function(e,t){u()}),e.$on("auth:validation-success",function(e,t){u()}),e.$on("auth:logout-success",function(e,t){d(),s.unwatch(),console.log("session timer off")}),e.$on("IdleStart",function(){d(),e.warning=c.open({templateUrl:"/my/template/views/templates/warning-dialog.html",windowClass:"modal-danger"})}),e.$on("IdleEnd",function(){d()}),e.$on("IdleTimeout",function(){d(),e.timedout=c.open({templateUrl:"/my/template/views/templates/timedout-dialog.html",windowClass:"modal-danger"}),o.signOut()})}]),angular.module("theme.core.messages_controller",[]).controller("MessagesController",["$scope","$filter",function(e,t){e.messages=[{name:"Polly Paton",message:"Uploaded all the files to server",time:"3m",class:"notification-danger",thumb:"/Static/images/avatar.jpg",read:!1},{name:"Simon Corbett",message:"I am signing off for today",time:"17m",class:"notification-danger",thumb:"/Static/images/avatar.jpg",read:!1},{name:"Matt Tennant",message:"Everything is working just fine here",time:"2h",class:"notification-danger",thumb:"/Static/images/avatar.jpg",read:!0},{name:"Alan Doyle",message:"Please mail me the files by tonight",time:"5d",class:"notification-danger",thumb:"/Static/images/avatar.jpg",read:!1},{name:"Polly Paton",message:"Uploaded all the files to server",time:"3m",class:"notification-danger",thumb:"/Static/images/avatar.jpg",read:!1},{name:"Simon Corbett",message:"I am signing off for today",time:"17m",class:"notification-danger",thumb:"/Static/images/avatar.jpg",read:!1},{name:"Matt Tennant",message:"Everything is working just fine here",time:"2h",class:"notification-danger",thumb:"/Static/images/avatar.jpg",read:!0},{name:"Alan Doyle",message:"Please mail me the files by tonight",time:"5d",class:"notification-danger",thumb:"/Static/images/avatar.jpg",read:!1}],e.setRead=function(e,t){t.preventDefault(),t.stopPropagation(),e.read=!0},e.setUnread=function(e,t){t.preventDefault(),t.stopPropagation(),e.read=!1},e.setReadAll=function(t){t.preventDefault(),t.stopPropagation(),angular.forEach(e.messages,function(e){e.read=!0})},e.unseenCount=t("filter")(e.messages,{read:!1}).length,e.$watch("messages",function(n){e.unseenCount=t("filter")(n,{read:!1}).length},!0)}]),angular.module("theme.core.navigation_controller",["theme.core.services"]).controller("NavigationController",["$scope","$location","$state","$timeout",function(e,t,n,a){e.menu=[{label:"Main",iconClasses:"",separator:!0},{label:"Dashboard",iconClasses:"glyphicon glyphicon-dashboard",url:"dashboard"},{label:"Bank Accounts",iconClasses:"fa fa-university",url:"bank-accounts"},{label:"Payment Cards",iconClasses:"glyphicon glyphicon-credit-card",url:"payment-cards"},{label:"Wallet",iconClasses:"fa fa-money",url:"wallet"},{label:"Transactions",iconClasses:"glyphicon glyphicon-transfer",url:"transactions"},{label:"Beneficiaries",iconClasses:"fa fa-users",url:"beneficiaries"},{label:"Features",iconClasses:"fa fa-home",separator:!0},{label:"Fund Transfer",iconClasses:"glyphicon glyphicon-send",url:"transfer"},{label:"Mobile Top Up",iconClasses:"glyphicon glyphicon-phone",url:"mobile-topup"},{label:"Bill Payment",iconClasses:"fa fa-ils",url:"bill-payment"}];e.findItemByUrl=function(t,n){for(var a=0,i=t.length;a<i;a++){if(t[a].url&&t[a].url.replace("#","")===n)return t[a];if(void 0!==t[a].children){var r=e.findItemByUrl(t[a].children,n);if(r)return r}}},function e(t,n){angular.forEach(t,function(t){t.parent=n,void 0!==t.children&&e(t.children,t)})}(e.menu,null),e.openItems=[],e.selectedItems=[],e.selectedFromNavMenu=!1,e.select=function(t){if(t.open)t.open=!1;else{for(var n=e.openItems.length-1;n>=0;n--)e.openItems[n].open=!1;e.openItems=[];for(var a=t;null!==a;)a.open=!0,e.openItems.push(a),a=a.parent;if(!t.children||t.children&&t.children.length<1){e.selectedFromNavMenu=!0;for(var i=e.selectedItems.length-1;i>=0;i--)e.selectedItems[i].selected=!1;for(e.selectedItems=[],a=t;null!==a;)a.selected=!0,e.selectedItems.push(a),a=a.parent}}},e.highlightedItems=[];var i=function(t){for(var n=t;null!==n;)n.selected?n=null:(n.selected=!0,e.highlightedItems.push(n),n=n.parent)},r=function e(t,n){angular.forEach(t,function(t){t.label.toLowerCase().indexOf(n)>-1&&i(t),void 0!==t.children&&e(t.children,n)})};e.$watch("searchQuery",function(n,a){var i="#"+t.path();if(""===n){for(var o=e.highlightedItems.length-1;o>=0;o--)e.selectedItems.indexOf(e.highlightedItems[o])<0&&e.highlightedItems[o]&&e.highlightedItems[o]!==i&&(e.highlightedItems[o].selected=!1);e.highlightedItems=[]}else if(n!==a){for(var s=e.highlightedItems.length-1;s>=0;s--)e.selectedItems.indexOf(e.highlightedItems[s])<0&&(e.highlightedItems[s].selected=!1);e.highlightedItems=[],r(e.menu,n.toLowerCase())}}),e.$on("$routeChangeStart",function(t,a){var i;void 0!==a.access&&((i=e.auth.enums.authorised.loginRequired)===e.auth.enums.authorised.loginRequired?n.go(e.auth.routes.login):i===e.auth.enums.authorised.notAuthorised&&n.go(e.auth.routes.notAuthorised).replace())}),e.$on("$routeChangeSuccess",function(){if(!1===e.selectedFromNavMenu){var n=e.findItemByUrl(e.menu,t.path());n&&a(function(){e.select(n)})}e.selectedFromNavMenu=!1,e.searchQuery=""}),e.auth={name:"auth",enums:{authorised:{authorised:0,loginRequired:1,notAuthorised:2},permissionCheckType:{atLeastOne:0,combinationRequired:1}},events:{userLoggedIn:"auth:user:loggedIn",userLoggedOut:"auth:user:loggedOut"},controllers:{login:"loginCtrl"},services:{authentication:"authentication",authorization:"authorization"},routes:{login:"/paylink/login",notAuthorised:"/not-authorised"}}}]),angular.module("theme.core.notifications_controller",[]).controller("NotificationsController",["$scope","$filter",function(e,t){e.notifications=[{text:"Server #1 is live",time:"4m",class:"notification-success",iconClasses:"glyphicon glyphicon-ok",seen:!0},{text:"New user Registered",time:"10m",class:"notification-user",iconClasses:"glyphicon glyphicon-user",seen:!1},{text:"CPU at 92% on server#3!",time:"22m",class:"notification-danger",iconClasses:"glyphicon glyphicon-exclamation-sign",seen:!1},{text:"Database overloaded",time:"30m",class:"notification-warning",iconClasses:"glyphicon glyphicon-warning-sign",seen:!1},{text:"New order received",time:"1h",class:"notification-order",iconClasses:"glyphicon glyphicon-shopping-cart",seen:!0},{text:"Application error!",time:"9d",class:"notification-danger",iconClasses:"glyphicon glyphicon-remove",seen:!0},{text:"Installation Succeeded",time:"1d",class:"notification-success",iconClasses:"glyphicon glyphicon-ok",seen:!1},{text:"Account Created",time:"2d",class:"notification-success",iconClasses:"glyphicon glyphicon-ok",seen:!1}],e.setSeen=function(e,t){t.preventDefault(),t.stopPropagation(),e.seen=!0},e.setUnseen=function(e,t){t.preventDefault(),t.stopPropagation(),e.seen=!1},e.setSeenAll=function(t){t.preventDefault(),t.stopPropagation(),angular.forEach(e.notifications,function(e){e.seen=!0})},e.unseenCount=t("filter")(e.notifications,{seen:!1}).length,e.$watch("notifications",function(n){e.unseenCount=t("filter")(n,{seen:!1}).length},!0)}]),angular.module("theme.core.directives",[]).directive("sgBanner",function(){return{restrict:"A",link:function(e,t){"ie"==skel.vars.browser&&skel.vars.IEVersion>9&&(skel.on("-small !small",function(){t.css("height","100vh")}),skel.on("+small",function(){t.css("height","")})),t.find(".more").addClass("scrolly")}}}).directive("sgBackground",function(){return{restrict:"A",link:function(e,t,n){t.css("background-image","url("+n.sgBackground+")")}}}).directive("sgPost",function(){return{restrict:"A",link:function(e,t){var n=t,a=n.find(".inner"),i=n.find(".more");i.addClass("scrolly"),n.scrollex({top:"40vh",bottom:"40vh",terminate:function(){i.removeClass("current"),a.removeClass("current")},enter:function(){i.addClass("current"),a.addClass("current")},leave:function(){i.removeClass("current"),a.removeClass("current")}}),i.scrolly()}}}).directive("sgMenu",function(){return{restrict:"A",link:function(e,t){t.append('<a href="#menu" class="close"></a>').appendTo(t.parent()).panel({delay:500,hideOnClick:!0,hideOnSwipe:!0,resetScroll:!0,resetForms:!0,side:"right"})}}}).directive("sgFadeIn",["$window",function(e){return{restrict:"A",link:function(t,n){n.addClass("is-loading"),angular.element(document).ready(function(){e.setTimeout(function(){n.removeClass("is-loading")},100)})}}}]),angular.module("theme.core.directives").directive("autosize",function(){return{restrict:"AC",link:function(e,t){t.autosize({append:"\n"})}}}).directive("fullscreen",function(){return{restrict:"AC",link:function(e,t){t.fseditor({maxHeight:500})}}}).directive("colorpicker",function(){return{restrict:"AC",link:function(e,t){t.colorpicker()}}}).directive("daterangepicker",function(){return{restrict:"A",scope:{options:"=daterangepicker",start:"=dateBegin",end:"=dateEnd"},link:function(e,t){t.daterangepicker(e.options,function(t,n){e.start&&(e.start=t.format("D-MMM-YYYY")),e.end&&(e.end=n.format("D-MMM-YYYY")),e.$apply()})}}}).directive("multiselect",["$timeout",function(e){return{restrict:"A",link:function(t,n){e(function(){n.multiSelect()})}}}]).directive("uiSelectRequired",function(){return{require:"ngModel",link:function(e,t,n,a){a.$validators.uiSelectRequired=function(e,t){var n;if(angular.isArray(e))n=e;else{if(!angular.isArray(t))return!1;n=t}return n.length>0}}}}).directive("wizard",function(){return{restrict:"A",scope:{options:"=wizard",reset:"=reset"},link:function(e,t,n){e.options?(t.stepy(e.options),t.stepy("step",1),e.reset=function(){t.stepy("step",1)},!0===e.options.validate&&t.validate({errorClass:"help-block",validClass:"help-block",highlight:function(e){angular.element(e).closest(".form-group").addClass("has-error")},unhighlight:function(e){angular.element(e).closest(".form-group").removeClass("has-error")}})):t.stepy(),t.find(".stepy-navigator").wrapInner('<div class="pull-right"></div>')}}}).directive("maskinput",function(){return{restrict:"A",link:function(e,t){t.inputmask()}}}).directive("limitTo",[function(){return{restrict:"A",link:function(e,t,n){var a=parseInt(n.limitTo);t.bind("keypress",function(e){if(t[0].value.length>=a)return e.preventDefault(),!1})}}}]).directive("onlyNumbers",function(){return{require:"ngModel",restrict:"A",link:function(e,t,n,a){a.$parsers.push(function(e){if(e){var t=e.replace(/[^0-9]/g,"");return t!==e&&(a.$setViewValue(t),a.$render()),t}})}}}).directive("croppable",["$timeout",function(e){return{restrict:"A",replace:!0,scope:{src:"@",imgSelected:"&",cropInit:"&"},link:function(t,n){var a;e(function(){t.src&&(a=n,n.width(n.width()),angular.element(a).Jcrop({trackDocument:!0,onSelect:function(n){e(function(){t.imgSelected({coords:n})})}},function(){t.bounds=this.getBounds()}))}),t.$watch("bounds",function(){t.cropInit({bounds:t.bounds})})}}}]).directive("passwordStrength",[function(){return{require:"ngModel",restrict:"E",scope:{password:"=ngModel"},link:function(e,t,n,a){e.$watch("password",function(t){function n(e){return e?1:0}e.strength=n(t&&t.length>=8)+n(t&&/[A-z]/.test(t))+n(t&&/(?=.*\W)/.test(t))+n(t&&/\d/.test(t))},!0)},template:'<div class="progress"><div class="progress-bar progress-bar-danger" style="width: {{strength >= 1 ? 25 : 0}}%"></div><div class="progress-bar progress-bar-warning" style="width: {{strength >= 2 ? 25 : 0}}%"></div><div class="progress-bar progress-bar-warning" style="width: {{strength >= 3 ? 25 : 0}}%"></div><div class="progress-bar progress-bar-success" style="width: {{strength >= 4 ? 25 : 0}}%"></div></div>'}}]).directive("patternValidator",[function(){return{require:"ngModel",restrict:"A",link:function(e,t,n,a){a.$parsers.unshift(function(e){var t=new RegExp(n.patternValidator).test(e);return a.$setValidity("passwordPattern",t),e})}}}]),angular.module("theme.core.directives").directive("disableAnimation",["$animate",function(e){return{restrict:"A",link:function(t,n,a){a.$observe("disableAnimation",function(t){e.enabled(!t,n)})}}}]).directive("slideOut",function(){return{restrict:"A",scope:{show:"=slideOut"},link:function(e,t){t.hide(),e.$watch("show",function(n,a){n!==a&&t.slideToggle({complete:function(){e.$apply()}})})}}}).directive("slideOutNav",["$timeout",function(e){return{restrict:"A",scope:{show:"=slideOutNav"},link:function(t,n){t.$watch("show",function(a){angular.element("body").hasClass("sidebar-collapsed")?!0===a?n.css("display","block"):n.css("display","none"):!0===a?n.slideDown({complete:function(){e(function(){t.$apply()})},duration:100}):!1===a&&n.slideUp({complete:function(){e(function(){t.$apply()})},duration:100})})}}}]).directive("fauxOffcanvas",["EnquireService","$window",function(e,t){return{restrict:"AE",link:function(){function n(){var e=angular.element("#wrapper").innerWidth();angular.element(".static-content").css("width",e+"px")}e.register("screen and (max-width: 767px)",{match:function(){n(),angular.element(window).on("resize",n)},unmatch:function(){angular.element(".static-content").css("width",""),angular.element(t).off("resize",n)}})}}}]).directive("pulsate",function(){return{scope:{pulsate:"="},link:function(e,t){"transparent"===t.css("background-color")&&t.css("background-color","rgba(0,0,0,0.01)"),angular.element(t).pulsate(e.pulsate)}}}).directive("prettyprint",["$window",function(e){return{restrict:"C",link:function(t,n){n.html(e.prettyPrintOne(n.html(),"",!0))}}}]).directive("animatePageContent",["$rootScope","$timeout",function(e,t){return{restrict:"A",link:function(){e.$on("$stateChangeSuccess",function(){t(function(){angular.element(".container-fluid .animated-content").css("visibility","visible").velocity("transition.slideUpIn",{stagger:150})},10)})}}}]).directive("passwordVerify",function(){return{require:"ngModel",scope:{passwordVerify:"="},link:function(e,t,n,a){e.$watch(function(){var t;return(e.passwordVerify||a.$viewValue)&&(t=e.passwordVerify+"_"+a.$viewValue),t},function(t){t&&a.$parsers.unshift(function(t){return e.passwordVerify!==t?void a.$setValidity("passwordVerify",!1):(a.$setValidity("passwordVerify",!0),t)})})}}}).directive("backgroundSwitcher",function(){return{restrict:"EA",link:function(e,t){angular.element(t).click(function(){angular.element("body").css("background",angular.element(t).css("background"))})}}}).directive("icheck",["$timeout",function(e){return{require:"?ngModel",link:function(t,n,a,i){return e(function(){var e=n.parent("label");e.length&&e.addClass("icheck-label");var r;return r=a.value,t.$watch(a.ngModel,function(){angular.element(n).iCheck("update")}),angular.element(n).iCheck({checkboxClass:"icheckbox_minimal-blue",radioClass:"iradio_minimal-blue"}).on("ifChanged",function(e){if("checkbox"===angular.element(n).attr("type")&&a.ngModel&&t.$apply(function(){return i.$setViewValue(e.target.checked)}),"radio"===angular.element(n).attr("type")&&a.ngModel)return t.$apply(function(){return i.$setViewValue(r)})})})}}}]).directive("knob",function(){return{restrict:"EA",template:'<input class="dial" type="text"/>',scope:{options:"="},replace:!0,link:function(e,t){angular.element(t).knob(e.options)}}}).directive("uiBsSlider",["$timeout",function(e){return{link:function(t,n){e(function(){n.slider()})}}}]).directive("tileLarge",function(){return{restrict:"E",scope:{item:"=data"},templateUrl:"templates/tile-large.html",replace:!0,transclude:!0}}).directive("tileSimple",function(){return{restrict:"E",scope:{item:"=data"},templateUrl:"templates/tile-simple.html",replace:!0,transclude:!0}}).directive("tileShortcut",function(){return{restrict:"E",scope:{item:"=data"},replace:!0,templateUrl:"templates/tile-shortcut.html"}}).directive("tile",function(){return{restrict:"E",scope:{heading:"@",type:"@"},transclude:!0,templateUrl:"templates/tile-generic.html",link:function(e,t){var n=t.find("tile-heading");n.length&&n.appendTo(t.find(".tiles-heading"))},replace:!0}}).directive("datepaginator",function(){return{restrict:"A",scope:{options:"=datepaginator"},link:function(e,t){setTimeout(function(){t.datepaginator(e.options)},10)}}}).directive("stickyScroll",function(){return{restrict:"A",link:function(e,t,n){function a(){var e=parseInt(n.stickyScroll),a=angular.element("header").height();if(a>e&&(e=a),!1===angular.element("body").hasClass("static-header"))return t.css("top",e+"px");var i=angular.element(window).scrollTop();i<e?t.css("top",e-i+"px"):t.css("top","0px")}angular.element(function(){angular.element(window).scroll(a),a()})}}}).directive("rightbarRightPosition",function(){return{restrict:"A",scope:{isFixedLayout:"=rightbarRightPosition"},link:function(e){e.$watch("isFixedLayout",function(e,t){e!==t&&setTimeout(function(){var e=angular.element("#wrapper"),t=angular.element(window).width()-(e.offset().left+e.outerWidth());t<0&&(t=0),angular.element(".infobar").css("right",t)},100)})}}}).directive("backToTop",function(){return{restrict:"AE",link:function(e,t){t.click(function(){angular.element("body").scrollTop(0)})}}}).directive("toTopOnLoad",["$rootScope",function(e){return{restrict:"AE",link:function(){e.$on("$stateChangeSuccess",function(){angular.element("body").scrollTop(0)})}}}]).directive("scrollToBottom",function(){return{restrict:"A",scope:{model:"=scrollToBottom"},link:function(e,t){e.$watch("model",function(e,n){e!==n&&(t[0].scrollTop=t[0].scrollHeight)})}}}).directive("positionChatBox",function(){return{restrict:"A",scope:{chatter:"=positionChatBox"},link:function(e,t){function n(){if(angular.element(window).height()<parseInt(t.css("top").replace("px",""))+t.height()){var e=angular.element(window).height()-(parseInt(t.css("top").replace("px",""))+t.height());t.css({top:parseInt(t.css("top").replace("px",""))+e+"px"})}else parseInt(t.css("top").replace("px",""))<50&&t.css({top:"50px"})}var a=0;angular.element(".infobar .nano-content").on("scroll",function(){var e=angular.element(".infobar .nano-content").scrollTop(),i=e-a;t.css({top:parseInt(t.css("top").replace("px",""))-i+"px"}),n(),a=e}),angular.element(".infobar").on("click","li[data-stats]",function(e){angular.element(this).siblings().removeClass("active"),angular.element(this).addClass("active"),e.stopPropagation(),t.css({top:0,left:0});var a=angular.element(e.target).closest("li[data-stats]").offset();t.css({top:a.top-angular.element(window).scrollTop()+"px",left:a.left-420+"px"}),n()}),angular.element("body").click(function(){angular.element("li[data-stats]").removeClass("active")})}}}),angular.module("ngDraggable",[]).directive("ngDrag",["$rootScope","$parse","$document","$window",function(e,t,n,a){return{restrict:"A",scope:!0,link:function(i,r,o){i.value=o.ngDrag;var s,l,c,u,d,p,f,m=!1,g="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,h="touchmove mousemove",v=i.$id,b=null,y=!1,w=null,$=t(o.ngDragSuccess)||null,k=function(e){var t={top:0,left:0};return void 0!==_typeof(e[0].getBoundingClientRect)&&(t=e[0].getBoundingClientRect()),{top:t.top+a.pageYOffset-e[0].clientTop,left:t.left+a.pageXOffset-e[0].clientLeft}},C=function(e){e&&(i.$on("$destroy",x),i.$watch(o.ngDrag,S),i.$watch(o.ngCenterAnchor,I),i.$watch(o.ngDragData,A),r.on("touchstart mousedown",P),g||"img"!=r[0].nodeName.toLowerCase()||r.on("mousedown",function(){return!1}))},x=function(e){C(!1)},A=function(e,t){b=e},S=function(e,t){y=e},I=function(e,t){angular.isDefined(e)&&(m=e||"true")},T=function(e){var t=angular.element(e.target).attr("ng-drag-handle");return"undefined"!==(void 0===t?"undefined":_typeof(t))&&!1!==t},P=function(e){y&&T(e)&&("mousedown"==e.type&&0!==e.button||(r.css("width",r.width()+"px"),g?(N(),w=setTimeout(function(){N(),B(e)},100),n.on(h,N),n.on("touchend mouseup",N)):B(e)))},N=function e(){clearTimeout(w),n.off(h,e),n.off("touchend mouseup",e)},B=function(t){y&&(t.preventDefault(),r.addClass("dragging"),s=k(r),r.centerX=r[0].offsetWidth/2,r.centerY=r[0].offsetHeight/2,l=t.pageX||t.touches[0].pageX,c=t.pageY||t.touches[0].pageY,p=l-s.left,f=c-s.top,m?(u=l-r.centerX-a.pageXOffset,d=c-r.centerY-a.pageYOffset):(u=l-p-a.pageXOffset,d=c-f-a.pageYOffset),n.on(h,D),n.on("touchend mouseup",E),e.$broadcast("draggable:start",{x:l,y:c,tx:u,ty:d,event:t,element:r,data:b}))},D=function(t){y&&(t.preventDefault(),l=t.pageX||t.touches[0].pageX,c=t.pageY||t.touches[0].pageY,m?(u=l-r.centerX-a.pageXOffset,d=c-r.centerY-a.pageYOffset):(u=l-p-a.pageXOffset,d=c-f-a.pageYOffset),L(u,d),e.$broadcast("draggable:move",{x:l,y:c,tx:u,ty:d,event:t,element:r,data:b,uid:v}))},E=function t(a){y&&(a.preventDefault(),e.$broadcast("draggable:end",{x:l,y:c,tx:u,ty:d,event:a,element:r,data:b,callback:M,uid:v}),r.removeClass("dragging"),U(),n.off(h,D),n.off("touchend mouseup",t))},M=function(e){$&&i.$apply(function(){$(i,{$data:b,$event:e})})},U=function(){r.css({left:"",top:"",position:"","z-index":"",margin:""})},L=function(e,t){r.css({left:e+"px",top:t+"px",position:"fixed","z-index":99999})};r.attr("draggable","false"),C(!0)}}}]).directive("ngDrop",["$parse","$timeout","$window",function(e,t,n){return{restrict:"A",link:function(a,i,r){a.value=r.ngDrop;var o=a.$id,s=!1,l=e(r.ngDropSuccess)==angular.noop?function(e,t){i.find(".drag-placeholder").after(t.$event.element),t.$event.element.show()}:e(r.ngDropSuccess),c=function(e){e&&(r.$observe("ngDrop",p),a.$on("$destroy",d),a.$on("draggable:start",f),a.$on("draggable:move",m),a.$on("draggable:end",g))},u=function(e){var t={top:0,left:0};return void 0!==_typeof(e[0].getBoundingClientRect)&&(t=e[0].getBoundingClientRect()),{top:t.top+n.pageYOffset-e[0].clientTop,left:t.left+n.pageXOffset-e[0].clientLeft}},d=function(e){c(!1)},p=function(e,t){s=a.$eval(e)},f=function(e,t){if(s&&($(".drag-placeholder").show(),h(t.x,t.y,t.element)&&(t.element.css({position:"fixed",top:t.ty+"px",left:t.tx+"px"}),i.find(".drag-placeholder").length<1))){var n=$('<div class="drag-placeholder"></div>').css({height:t.element.innerHeight()+"px",width:"100%"});$(t.element).after(n)}},m=function(e,t){if(s)if(h(t.x,t.y,t.element)){if(i.find(".drag-placeholder").length<1){var n=$('<div class="drag-placeholder"></div>').css({height:t.element.innerHeight()+"px",width:"100%"});$(i).append(n)}i.find("[ng-drag]:not(.dragging)").each(function(){y(t.x,t.y,$(this))&&($(this).offset().top+$(this).height()/2<t.y?$(this).after(i.find(".drag-placeholder")):$(this).before(i.find(".drag-placeholder")))})}else i.find(".drag-placeholder").length>0&&i.find(".drag-placeholder").remove()},g=function(e,n){s&&o!==n.uid&&($(".drag-placeholder").hide(),n.element.css("width",""),h(n.x,n.y,n.element)&&(n.element.hide(),n.callback&&n.callback(n),t(function(){l(a,{$data:n.data,$event:n}),$(".drag-placeholder").remove()})),v(!1,n.element))},h=function(e,t,n){var a=b(e,t);return v(a,n),a},v=function(e,t){e?(i.addClass("drag-enter"),t.addClass("drag-over")):(i.removeClass("drag-enter"),t.removeClass("drag-over"))},b=function(e,t){var n=u(i);return n.right=n.left+i[0].offsetWidth,n.bottom=n.top+i[0].offsetHeight,e>=n.left&&e<=n.right&&t<=n.bottom&&t>=n.top},y=function(e,t,n){var a=u(n);return a.right=a.left+n[0].offsetWidth,a.bottom=a.top+n[0].offsetHeight,e>=a.left&&e<=a.right&&t<=a.bottom&&t>=a.top};c(!0)}}}]).directive("ngDragClone",["$parse","$timeout",function(e,t){return{restrict:"A",link:function(e,t,n){var a,i=!0;e.clonedData={};var r=function(t){t&&(e.$on("draggable:start",s),e.$on("draggable:move",l),e.$on("draggable:end",c),o())},o=function(){a.off("mousedown touchstart touchmove touchend touchcancel",p),a.on("mousedown touchstart touchmove touchend touchcancel",p)},s=function(n,a,r){i=!0,angular.isDefined(a.data.allowClone)&&(i=a.data.allowClone),i&&(e.$apply(function(){e.clonedData=a.data}),t.css("width",a.element[0].offsetWidth),t.css("height",a.element[0].offsetHeight),d(a.tx,a.ty))},l=function(e,t){i&&d(t.tx,t.ty)},c=function(e,t){i&&u()},u=function(){t.css({left:0,top:0,position:"fixed","z-index":-1,visibility:"hidden"})},d=function(e,n){t.css({left:e+"px",top:n+"px",position:"fixed","z-index":99999,visibility:"visible"})},p=function(e){var t=e.originalEvent;return t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,t.returnValue=!1,!1};a=t.find("img"),t.attr("draggable","false"),a.attr("draggable","false"),u(),r(!0)}}}]).directive("ngPreventDrag",["$parse","$timeout",function(e,t){return{restrict:"A",link:function(e,t,n){var a=function(e){e&&t.on("mousedown touchstart touchmove touchend touchcancel",i)},i=function(e){var t=e.originalEvent;return t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,t.returnValue=!1,!1};t.attr("draggable","false"),a(!0)}}}]).directive("ngCancelDrag",[function(){return{restrict:"A",link:function(e,t,n){t.find("*").attr("ng-cancel-drag","ng-cancel-drag")}}}]),angular.module("theme.core.template_overrides",[]).config(["$provide",function(e){}]).run(["$templateCache",function(e){e.put("footerTemplate.html",'<div ng-show="showFooter" class="ng-grid-footer" ng-style="footerStyle()">\r\n    <div class="col-md-4" >\r\n        <div class="ngFooterTotalItems" ng-class="{\'ngNoMultiSelect\': !multiSelect}" >\r\n            <span class="ngLabel">{{i18n.ngTotalItemsLabel}} {{maxRows()}}</span><span ng-show="filterText.length > 0" class="ngLabel">({{i18n.ngShowingItemsLabel}} {{totalFilteredItemsLength()}})</span>\r\n        </div>\r\n        <div class="ngFooterSelectedItems" ng-show="multiSelect">\r\n            <span class="ngLabel">{{i18n.ngSelectedItemsLabel}} {{selectedItems.length}}</span>\r\n        </div>\r\n    </div>\r\n    <div class="col-md-4" ng-show="enablePaging" ng-class="{\'ngNoMultiSelect\': !multiSelect}">\r\n            <label class="control-label ng-grid-pages center-block">{{i18n.ngPageSizeLabel}}\r\n               <select class="form-control input-sm" ng-model="pagingOptions.pageSize" >\r\n                      <option ng-repeat="size in pagingOptions.pageSizes">{{size}}</option>\r\n                </select>\r\n        </label>\r\n</div>\r\n     <div class="col-md-4">\r\n        <div class="pull-right ng-grid-pagination">\r\n            <button type="button" class="btn btn-default btn-sm" ng-click="pageToFirst()" ng-disabled="cantPageBackward()" title="{{i18n.ngPagerFirstTitle}}"><i class="fa fa-angle-double-left"></i></button>\r\n            <button type="button" class="btn btn-default btn-sm" ng-click="pageBackward()" ng-disabled="cantPageBackward()" title="{{i18n.ngPagerPrevTitle}}"><i class="fa fa-angle-left"></i></button>\r\n            <label class="control-label">\r\n                   <input class="form-control input-sm" min="1" max="{{currentMaxPages}}" type="number" style="width:50px; height: 24px; margin-top: 1px; padding: 0 4px;" ng-model="pagingOptions.currentPage"/>\r\n            </label>\r\n            <span class="ngGridMaxPagesNumber" ng-show="maxPages() > 0">/ {{maxPages()}}</span>\r\n            <button type="button" class="btn btn-default btn-sm" ng-click="pageForward()" ng-disabled="cantPageForward()" title="{{i18n.ngPagerNextTitle}}"><i class="fa fa-angle-right"></i></button>\r\n            <button type="button" class="btn btn-default btn-sm" ng-click="pageToLast()" ng-disabled="cantPageToLast()" title="{{i18n.ngPagerLastTitle}}"><i class="fa fa-angle-double-right"></i></button>\r\n        </div>\r\n     </div>\r\n</div>\r\n'),e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="fa" ng-class="$index < value && (r.stateOn || \'fa-star\') || (r.stateOff || \'fa-star-o\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>'),e.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><button type="button" class="form-control ui-select-toggle" tabindex="-1" ;="" ng-disabled="$select.disabled" ng-click="$select.activate()"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret caret-right" ng-click="$select.toggle($event)"></i></button> <button type="button" class="ui-select-clear" ng-if="$select.allowClear && !$select.isEmpty()" ng-click="$select.select(undefined)"><i class="glyphicon glyphicon-remove"></i></button></div>')}]),angular.module("theme.core.templates",[]).run(["$templateCache",function(e){e.put("templates/contextual-progressbar.html",'<div class="contextual-progress">\n\t<div class="clearfix">\n\t\t<div class="progress-title">{{heading}}</div>\n\t\t<div class="progress-percentage">{{percent | number:0}}%</div>\n\t</div>\n\t<div class="progress">\n\t\t<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n\t</div>\n</div>\n'),e.put("templates/custom-styles.html","<style>\n\t.dropdown.open .dropdown-menu.animated {\n\t\t-webkit-animation-name: {{getLayoutOption('dropdownTransitionStyle')}};\n\t\tanimation-name: {{getLayoutOption('dropdownTransitionStyle')}};\n\t\t-webkit-animation-duration: .5s;\n\t\tanimation-duration: .5s;\n\t}\n\t.dropdown-menu.animated {\n\t\t-webkit-animation-name: none;\n\t\tanimation-name: none;\n\t}\n\n\t.mainview-animation.animated.ng-enter {\n\t\t-webkit-animation-name: {{getLayoutOption('pageTransitionStyle')}};\n\t\tanimation-name: {{getLayoutOption('pageTransitionStyle')}};\n\t}\n</style>"),e.put("templates/nav_renderer.html",'<div ng-if="item.separator==true">\n\t<span>{{item.label}}</span>\n</div>\n<a ng-if="!item.separator" ng-click="select(item)" ng-href="{{item.url}}">\n\t<i ng-if="item.iconClasses" class="{{item.iconClasses}}"></i><span>{{item.label}}</span>\n\t<span ng-bind-html="item.html"></span>\n</a>\n<ul ng-if="item.children.length" data-slide-out-nav="item.open || (searchQuery.length>0 && item.selected)">\n    <li ng-repeat="item in item.children"\n\t    ng-class="{ hasChild: (item.children!==undefined),\n                      active: item.selected,\n                        open: (item.children!==undefined) && item.open,\n              \'search-focus\': (searchQuery.length>0 && item.selected) }"\n \t\tng-show="!(searchQuery.length>0 && !item.selected)"\n    \tng-include="\'templates/nav_renderer.html\'"\n    ></li>\n</ul>'),e.put("templates/nav_renderer_horizontal.html",'<a ng-click="select(item)" ng-href="{{item.url}}">\n  <i ng-if="item.iconClasses" class="{{item.iconClasses}}"></i><span>{{item.label}}</span>\n  <span ng-bind-html="item.html"></span>\n</a>\n<ul ng-if="item.children.length">\n    <li ng-repeat="item in item.children"\n      ng-class="{ hasChild: (item.children!==undefined),\n                      active: item.selected,\n                        open: (item.children!==undefined) && item.open }"\n      ng-include="\'templates/nav_renderer_horizontal.html\'"\n    ></li>\n</ul>\n'),e.put("templates/panel-tabs-without-heading.html",'<div class="panel {{panelClass}}">\n  <div class="panel-heading" ng-attr-ng-drag-handle="{{draggable}}">\n        <h2>\n            <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n        </h2>\n  </div>\n  <div class="panel-body">\n    <div class="tab-content">\n        <div class="tab-pane"\n            ng-repeat="tab in tabs"\n            ng-class="{active: tab.active}"\n            tab-content-transclude="tab">\n        </div>\n    </div>\n  </div>\n</div>\n'),e.put("templates/panel-tabs.html",'<div class="panel {{panelClass}}">\n  <div class="panel-heading" ng-attr-ng-drag-handle="{{draggable}}">\n        <h2><i ng-if="panelIcon" class="{{panelIcon}}"></i>{{(panelIcon? " ":"")+heading}}</h2>\n        <div class="panel-ctrls">\n            <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n        </div>\n  </div>\n  <div class="panel-body">\n    <div class="tab-content">\n        <div class="tab-pane"\n            ng-repeat="tab in tabs"\n            ng-class="{active: tab.active}"\n            tab-content-transclude="tab">\n        </div>\n    </div>\n  </div>\n</div>\n'),e.put("templates/panel.html",'<div class="panel {{panelClass}}">\n  <div class="panel-heading">\n        <h2><i ng-if="panelIcon" class="{{panelIcon}}"></i>{{(panelIcon? " ":"")+heading}}</h2>\n        <div class="panel-ctrls">\n        </div>\n  </div>\n  <div class="panel-body" ng-transclude>\n  </div>\n</div>\n'),e.put("templates/themed-tabs-bottom.html",'<div class="tab-container tab-{{theme || \'primary\'}} tab-{{position || \'normal\'}}">\n  <div class="tab-content">\n    <div class="tab-pane"\n        ng-repeat="tab in tabs"\n        ng-class="{active: tab.active}"\n        tab-content-transclude="tab">\n    </div>\n  </div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n</div>\n'),e.put("templates/themed-tabs.html",'<div class="tab-container tab-{{theme || \'primary\'}} tab-{{position || \'normal\'}}">\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n        ng-repeat="tab in tabs"\n        ng-class="{active: tab.active}"\n        tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n'),e.put("templates/tile-generic.html",'<div class="info-tiles tiles-{{type}}">\n\t<div class="tiles-heading">\n\t\t{{heading}}\n\t</div>\n\t<div class="tiles-body" ng-transclude>\n\t</div>\n</div>\n'),e.put("templates/tile-large.html",'<a class="info-tiles tiles-{{item.color}}" ng-href="{{item.href}}">\n    <div class="tiles-heading">\n        <div class="pull-left">{{item.title}}</div>\n        <div class="pull-right">{{item.titleBarInfo}}</div>\n    </div>\n    <div class="tiles-body">\n        <div class="pull-left"><i class="{{item.classes}}"></i></div>\n        <div class="pull-right" ng-show="item.text">{{item.text}}</div>\n        <div class="pull-right" ng-show="!item.text" ng-transclude></div>\n    </div>\n</a>\n'),e.put("templates/tile-shortcut.html",'<a class="shortcut-tiles tiles-{{item.color}}" ng-href="{{item.href}}">\n\t<div class="tiles-body">\n\t\t<div class="pull-left"><i class="{{item.classes}}"></i></div>\n\t\t<div class="pull-right"><span class="badge">{{item.titleBarInfo}}</span></div>\n\t</div>\n\t<div class="tiles-footer">\n\t\t{{item.text}}\n\t</div>\n</a>\n'),e.put("templates/tile-simple.html",'<a class="info-tiles tiles-{{item.color}}" ng-href="{{item.href}}">\n    <div class="tiles-heading">\n        <div class="text-center">{{item.title}}</div>\n    </div>\n    <div class="tiles-body">\n        <div class="text-center" ng-show="item.text">{{item.text}}</div>\n    </div>\n</a>')}]),angular.module("theme.core.panels",["ngDraggable"]).config(function(){}),angular.module("theme.core.panels").directive("panel",function(){return{restrict:"E",transclude:!0,scope:{panelClass:"@",heading:"@",panelIcon:"@",ngDrag:"@"},templateUrl:"templates/panel.html",link:function(e,t,n){"true"===n.ngDrag&&t.find(".panel-heading").attr("ng-drag-handle","")}}}).directive("panelControls",[function(){return{restrict:"E",require:"?^tabset",replace:!0,link:function(e,t){var n=angular.element(t).closest(".panel");!1===n.hasClass(".ng-isolate-scope")&&angular.element(t).children().appendTo(n.find(".panel-ctrls"))}}}]).directive("panelControlCollapse",function(){return{restrict:"EAC",link:function(e,t){return t.html('<button class="button-icon"><i class="glyphicon glyphicon-minus"></i></button>'),t.bind("click",function(){angular.element(t).find("i").toggleClass("glyphicon-plus glyphicon-minus"),angular.element(t).closest(".panel").find(".panel-body").slideToggle({duration:200}),angular.element(t).closest(".panel-heading").toggleClass("rounded-bottom")}),!1}}}).directive("panelControlRefresh",function(){return{restrict:"EAC",scope:{isLoading:"=",type:"@"},link:function(e,t){var n=e.type?e.type:"circular";t.append('<button class="button-icon"><i class="glyphicon glyphicon-refresh"></i></button>'),t.find("button").bind("click",function(){t.closest(".panel").append('<div class="panel-loading"><div class="panel-loader-'+n+'"></div></div>')}),e.$watch("isLoading",function(e){!1===e&&t.closest(".panel").find(".panel-loading").remove()})}}}).directive("panelControlColors",["$compile",function(e){return{restrict:"EAC",replace:!0,link:function(t,n){return n.append(e('<span class="button-icon" dropdown="" dropdown-toggle=""><i class="glyphicon glyphicon-tint"></i><ul class="dropdown-menu dropdown-tint" role="menu"><li><span class="btn btn-default" data-class="panel-default"></span></li><li><span class="btn btn-midnightblue" data-class="panel-midnightblue"></span></li><li><span class="btn btn-danger" data-class="panel-danger"></span></li><li><span class="btn btn-success" data-class="panel-success"></span></li><li><span class="btn btn-primary" data-class="panel-primary"></span></li><li><span class="btn btn-inverse" data-class="panel-inverse"></span></li><li><span class="btn btn-indigo" data-class="panel-indigo"></span></li></ul></span>')(t)),n.find("li span").bind("click",function(){n.closest(".panel").removeClass(function(e,t){return(t.match(/(^|\s)panel-\S+/g)||[]).join(" ")}),n.closest(".panel").removeClass("panel-*").addClass(angular.element(this).attr("data-class"))}),!1}}}]).directive("panelControlTitle",["$compile","$timeout",function(e,t){return{restrict:"EAC",scope:!0,link:function(n,a){return a.append(e('<span class="button-icon" dropdown="" dropdown-toggle="" is-open="showInputBox"><i class="glyphicon glyphicon-edit"></i><ul class="dropdown-menu dropdown-edit" role="menu" ng-keyup="processKeyUp($event)"><li><input class="form-control" type="text" ng-model="title" id="lolput" ng-click="$event.preventDefault();$event.stopPropagation()" /></li></ul></span>')(n)),n.processKeyUp=function(e){32===e.keyCode?e.preventDefault():13===e.keyCode&&(n.showInputBox=!1)},n.$watch("showInputBox",function(e){e&&t(function(){a.find("input").val(a.closest(".panel").find(".panel-heading h2").text()).focus()},10)}),n.$watch("title",function(e){a.closest(".panel").find(".panel-heading h2").html(e)}),!1}}}]),angular.module("theme.core.services",[]).factory("progressLoader",function(){return{start:function(){angular.element.skylo("start")},set:function(e){angular.element.skylo("set",e)},end:function(){angular.element.skylo("end")},get:function(){return angular.element.skylo("get")},inch:function(e){angular.element.skylo("show",function(){angular.element(document).skylo("inch",e)})}}}).factory("EnquireService",["$window",function(e){return e.enquire}]).factory("pinesNotifications",["$window",function(e){return{notify:function(t){t.mouse_reset=!1;var n=new e.PNotify(t);return n.notify=n.update,n}}}]).factory("$bootbox",["$uibModal","$window",function(e,t){return void 0===angular.element.fn.modal&&(angular.element.fn.modal=function(t){var n=this;if("hide"!==t){if("show"!==t){var a=e.open({template:angular.element(this).find(".modal-content").html()});this.data("bs.modal",a),setTimeout(function(){angular.element(".modal.ng-isolate-scope").remove(),angular.element(n).css({opacity:1,display:"block"}).addClass("in")},100)}}else this.data("bs.modal")&&(this.data("bs.modal").close(),angular.element(n).remove())}),t.bootbox}]).service("lazyLoad",["$q","$timeout",function(e,t){var n=e.defer(),a=n.promise;this.load=function(i){return angular.forEach(i,function(n){n.indexOf(".js")>-1&&function(i,r){var o=e.defer();(r=i.createElement("script")).type="text/javascript",r.async=!0,r.onload=function(){t(function(){o.resolve()})},r.onerror=function(){t(function(){o.reject()})},a=a.then(function(){return r.src=n,i.getElementsByTagName("head")[0].appendChild(r),o.promise})}(document)}),n.resolve(),a}}]).filter("safe_html",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]).factory("httpRequestInterceptor",function(){return{request:function(e){return e.headers=Object.assign(e.headers,getHeaders()),e}}}),angular.module("theme.core.services").service("modalService",["$uibModal",function(e){var t={backdrop:!0,keyboard:!0,modalFade:!0,templateUrl:"/my/template/views/templates/modal.html"},n={closeButtonText:"Close",actionButtonText:"OK",headerText:"Proceed?",bodyText:"Perform this action?"};this.showModal=function(e,t){return e||(e={}),e.backdrop="static",this.show(e,t)},this.show=function(a,i){var r={},o={};return angular.extend(r,t,a),angular.extend(o,n,i),r.controller||(r.controller=function(e,t){e.modalOptions=o,e.modalOptions.ok=function(e){t.close(e)},e.modalOptions.close=function(e){t.dismiss("Action cancelled")}}),e.open(r).result}}]),angular.module("theme.core.services").service("$theme",["$rootScope","EnquireService","$document",function(e,t,n){this.settings={fixedHeader:!0,headerBarHidden:!0,leftbarCollapsed:!0,leftbarShown:!1,rightbarCollapsed:!1,fullscreen:!1,layoutHorizontal:!1,layoutHorizontalLargeIcons:!1,layoutBoxed:!1,showSmallSearchBar:!1,topNavThemeClass:"navbar-midnightblue",sidebarThemeClass:"sidebar-midnightblue",showChatBox:!1,pageTransitionStyle:"fadeIn",dropdownTransitionStyle:"flipInX"};var a={default:"#ecf0f1",inverse:"#95a5a6",primary:"#3498db",success:"#2ecc71",warning:"#f1c40f",danger:"#e74c3c",info:"#1abcaf",brown:"#c0392b",indigo:"#9b59b6",orange:"#e67e22",midnightblue:"#34495e",sky:"#82c4e6",magenta:"#e73c68",purple:"#e044ab",green:"#16a085",grape:"#7a869c",toyo:"#556b8d",alizarin:"#e74c3c"};this.getBrandColor=function(e){return a[e]?a[e]:a.default},n.ready(function(){t.register("screen and (max-width: 767px)",{match:function(){e.$broadcast("themeEvent:maxWidth767",!0)},unmatch:function(){e.$broadcast("themeEvent:maxWidth767",!1)}})}),this.get=function(e){return this.settings[e]},this.set=function(t,n){this.settings[t]=n,e.$broadcast("themeEvent:changed",{key:t,value:this.settings[t]}),e.$broadcast("themeEvent:changed:"+t,this.settings[t])},this.values=function(){return this.settings}}]),angular.module("freebe",["theme","freebe.directives","freebe.dashboard_controller","freebe.signin_controller","freebe.forgot_password_controller","freebe.profile_controller","freebe.registration_controller","freebe.bank_account_controller","freebe.wallet_controller","freebe.transaction_details_controller","freebe.transfer_controller","freebe.bill_payment_controller","freebe.subscribe_controller"]),angular.module("freebe.bank_account_controller",["ngGrid"]).controller("BankAccountController",["$scope","$filter","$ocLazyLoad",function(e,t,n){}]),angular.module("freebe.bill_payment_controller",["ngGrid"]).controller("BillPaymentController",["$scope","$state","$stateParams","$filter","merchants","fromAccounts","transactionService",function(e,t,n,a,i,r,o){e.oneAtATime=!0,e.initialize=function(){e.topupProviders=i.filter(function(e){return"topup"===e.class&&"Active"===e.status})[0].products,e.merchants=i.filter(function(e){return"topup"!=e.class&&"Active"==e.status}),e.topup={provider:null,amount:"",fromAccount:null,phone:"",isBusy:!1},e.bill={product:null,sourceAccount:null,isBusy:!1},e.state={}},e.getProduct=function(){e.initialize(),e.product=i.map(function(e){return e.products}).reduce(function(e,t){return e.concat(t)}).filter(function(e){return e.id===n.id})[0],e.fields=Object.keys(e.product.hookdata).map(function(t){var n="text",a=new RegExp(/^[a-zA-Z0-9_.@]*$/),i="";switch(e.product.hookdata[t].type){case"email-address":case"email":n="email";break;case"numeric":case"number":n="text",a=new RegExp(/^[0-9]*$/);break;case"phone":case"phone_number":n="text",i="+234 800 000 0000"}return{name:t,readonly:e.product.hookdata[t].disabled,type:n,pattern:a,value:"amount"===t?e.product.cost:"",help:i}})},e.fromAccounts=r.map(function(e){return{id:e.subaccountId,name:e.accountNumber}}),e.$watch("product",function(e,t,n){e&&(n.bill.product={id:e.id,merchant_id:e.merchant_id,name:e.name,description:e.description})},!0),e.$watch("fields",function(e,t,n){if(e){var a=e.reduce(function(e,t){return e[t.name]=t.value,e},{});angular.extend(n.bill,a)}},!0),e.mobileTopUp=function(){var n={sourceAccountId:e.bill.sourceAccount.id,sourceAccountPin:e.bill.sourceAccount.pin,purpose:"AIRTIME",description:e.bill.product.description};angular.extend(n,e.bill),e.state={busy:!0,message:"Processing, Please wait..."},o.pay(n,{headerText:"Freebe Mobile Top Up ("+a("currency")(e.bill.amount,"NGN ")+")",bodyText:"Are you sure you want top up "+e.bill.phone+" with "+a("currency")(e.bill.amount,"NGN ")+"?"},function(n){t.go("transaction-details",{id:n.TransactionId}),e.initialize()},function(t){e.state={}})},e.pay=function(){var n={sourceAccountId:e.bill.sourceAccount.id,sourceAccountPin:e.bill.sourceAccount.pin,purpose:"Bill Payment",description:e.bill.product.description};angular.extend(n,e.bill),e.state={busy:!0,message:"Processing, Please wait..."},o.pay(n,{headerText:"Freebe Bill Payment ("+a("currency")(e.bill.amount,"NGN ")+")",bodyText:"Are you sure you want to pay "+a("currency")(e.bill.amount,"NGN ")+"\n            for "+e.bill.product.description+"?"},function(n){e.initialize(),t.go("transaction-details",{id:n.TransactionId})},function(t){e.state={}})}}]),angular.module("freebe.dashboard_controller",["angular-skycons","chart.js"]).controller("DashboardController",["$scope","$timeout","$window","reportService",function(e,t,n,a){var i=n.moment;n._;e.loadingChartData=!1,e.dateRange={start:i().subtract(30,"days").format("MMM, D YYYY"),end:i().add(1,"days").format("MMM, D YYYY")},e.$watchGroup(["dateRange.start","dateRange.end"],function(t,n){t&&e.loadStatistics()},!0),e.loadStatistics=function(){e.loadingChartData=!0,a.getTransactionStatistics(e.dateRange.start,e.dateRange.end).then(function(t){e.stats=t,e.chart={labels:t.map(function(e){return i(e.transaction_date).format("MMM D, YYYY")}),options:{legend:{display:!0}},series:[" # of Transfers"," # of Received"],data:[t.map(function(e){return e.transfers}),t.map(function(e){return e.received})]}}).finally(function(){e.loadingChartData=!1})}}]),angular.module("freebe.forgot_password_controller",[]).controller("ForgotPasswordController",["$rootScope","$scope","$state","$auth","$theme","progressLoader","token",function(e,t,n,a,i,r,o){i.set("fullscreen",!0),t.$on("$destroy",function(){i.set("fullscreen",!1)}),t.form={},t.forgotPasswordForm={Email:"",Token:o},t.resetPassword=function(e){t.clearAlert(),t.isBusy=!0,r.start(),r.set(50),a.requestPasswordReset(t.forgotPasswordForm).finally(function(){t.isBusy=!1,r.end()})},t.clearAlert=function(){t.alert={}},t.clearAlert(),t.$on("auth:password-reset-request-success",function(e,a){t.isBusy=!1,n.go("reset-successful")}),t.$on("auth:password-reset-request-error",function(e,n){t.isBusy=!1,t.alert={type:"danger",msg:"Password reset request failed"}})}]),angular.module("freebe.profile_controller",["freebe.services"]).controller("ProfileController",["$scope","$auth","progressLoader","$uibModal","profile","customerService","accountService","transactionService","Upload","modalService",function(e,t,n,a,i,r,o,s,l,c){function u(){r.update(e.profile).then(function(e){}).finally(function(){e.isBusy=!1,n.end(),e.profile.avatarChanged=!1})}e.profile=i,e.changeAvatar=function(t){a.open({templateUrl:"profileAvatar.html",controller:["$scope","$uibModalInstance",function(e,t){e.avatar={Old:"",New:"",isLoading:!1},e.loading=function(){e.avatar.isLoading=!0},e.done=function(){e.avatar.isLoading=!1},e.error=function(){e.avatar.isLoading=!1},e.ok=function(){t.close(e.avatar.New)},e.cancel=function(){t.dismiss("cancel")}}],size:t}).result.then(function(t){e.profile.avatar=t,e.profile.avatarChanged=!0}).catch(function(){})},e.getRecentTransactions=function(){s.getRecent().then(function(t){e.recentTransactions=t})},e.updateProfile=function(){e.clearAlert(),e.isBusy=!0,n.start(),n.set(50),e.profile.avatarChanged?l.upload({url:"/api/v1.0/paylink/customers/avatar",data:{file:l.dataUrltoBlob(e.profile.avatar,t.user.customerCode+"_avatar.png")}}).then(function(t){e.profile.avatar=t.data,u()},function(t){e.isBusy=!1,n.end(),e.profile.avatarChanged=!1},function(e){parseInt(100*e.loaded/e.total)}):u()},e.changePassword=function(){var e={templateUrl:"/my/template/views/user/changePassword.html",controller:function(e,t){e.passwordChange={oldPassword:"",newPassword:"",newPasswordConfirm:"",isBusy:!1},e.ok=function(){e.passwordChange.isBusy=!0,o.changePassword(e.passwordChange).then(function(n){e.passwordChange.isBusy=!1,t.close()}).finally(function(t){e.passwordChange.isBusy=!1})},e.cancel=function(){t.dismiss("cancel")}}};c.showModal(e,{}).then(function(){})},e.clearAlert=function(){e.alert={}},e.clearAlert()}]),angular.module("freebe.registration_controller",[]).controller("RegistrationController",["$scope","$timeout","$theme","$auth","$state","$http",function(e,t,n,a,i,r){n.set("fullscreen",!0),e.$on("$destroy",function(){n.set("fullscreen",!1)}),e.form={},e.registrationForm={},e.passwordPolicy="Password should contain at least 6 characters with one uppercase, lowercase, and a number.",e.register=function(t){e.clearAlert(),e.isBusy=!0,r.post("/account/sign-up/validate-email",{email:t.Email}).then(function(e){if(!e.data)throw new Error("Email address already exists")}).then(function(){return a.submitRegistration(e.registrationForm)}).catch(function(t){e.alert={type:"danger",msg:t.message}}).finally(function(){e.isBusy=!1})},e.clearAlert=function(){e.alert={}},e.$on("auth:registration-email-success",function(e,t){i.go("signup-successful")}),e.$on("auth:registration-email-error",function(e,t){})}]),angular.module("freebe.signin_controller",[]).controller("SignInController",["$rootScope","$scope","$state","$stateParams","$auth","$theme","progressLoader",function(e,t,n,a,i,r,o){function s(){n.go(a.returnUrl)}r.set("fullscreen",!0),t.$on("$destroy",function(){r.set("fullscreen",!1)}),t.form={},t.loginForm={},t.forgotPasswordForm={},t.login=function(e){t.clearAlert(),t.isBusy=!0,o.start(),o.set(50),i.submitLogin(t.loginForm).then(function(e){}).finally(function(){})},t.resetPassword=function(e){t.clearAlert(),t.isBusy=!0,o.start(),o.set(50),i.submitLogin(t.loginForm).then(function(e){t.isBusy=!1}).finally(function(){t.isBusy=!1,o.end()})},t.clearAlert=function(){t.alert={}},t.clearAlert(),t.$on("auth:login-success",function(e,t){s()}),t.$on("auth:login-error",function(e,n){t.isBusy=!1,t.alert={type:"danger",msg:"Email or password is not correct"}}),t.$on("auth:validation-success",function(e){s()}),t.$on("auth:validation-error",function(e,t){n.go("login")})}]),angular.module("freebe.subscribe_controller",["freebe.services"]).controller("SubscribeController",["$state","$scope","$auth","progressLoader","banks","subscriptionService","subscriptions","plans","cards","Upload","modalService",function(e,t,n,a,i,r,o,s,l,c,u){var d=new Date,p=d.getFullYear(),f=d.getMonth(),m=d.getDate(),g=new Date(p+1,f,m);t.form={},t.subscribe={plan:{},card:{},bank:{},fiscal:{start:d,end:g},contact:{email:n.user.email,phone:n.user.phone}},t.banks=i,t.subscriptions=o,t.plans=s,t.cards=l,t.wizardOptions={finishButton:!0,titleClick:!0,block:!0,validate:!0},t.createSubscription=function(){a.start(),a.set(50),t.state={busy:!0,message:"Processing Subscription, Please wait..."};var i=Object.assign({},t.subscribe,{subscription:{SubscriptionPlanId:t.subscribe.plan.id,CustomerId:n.user.id,SubaccountId:t.subscribe.card.id}});console.log(i),r.create(i).then(function(n){t.subscriptions=(t.subscriptions||[]).push(n),a.end(),t.state={},e.reload()}).catch(function(e){a.end(),t.state={}})},t.cancelSubscription=function(e){a.start(),a.set(50),t.state={busy:!0,message:"Canceling Subscription, Please wait..."},r.cancel(e,"").then(function(n){t.subscriptions=(t.subscriptions||[]).map(function(t){return t.code==e&&(t.status=n.Status),t}),a.end(),t.state={}}).catch(function(e){a.end(),t.state={}})},t.reactivateSubscription=function(e){a.start(),a.set(50),t.state={busy:!0,message:"Activating Subscription, Please wait..."},r.activate(e,"").then(function(n){t.subscriptions=(t.subscriptions||[]).map(function(t){return t.code==e&&(t.status=n.Status),t}),a.end(),t.state={}}).catch(function(e){a.end(),t.state={}})},t.changePlan=function(){var n={templateUrl:"/my/template/views/user/changePlan.html",controller:function(e,t,n,a,i){e.changePlan={plan:{},isBusy:!1},e.plans=a.filter(function(e){return e.id!=i.plan.id}),e.ok=function(){e.changePlan.isBusy=!0;var a={currentSubscriptionCode:i.code,newPlanId:e.changePlan.plan.id,customerId:n.user.id};r.changePlan(a).then(function(n){e.changePlan.isBusy=!1,t.close(n)}).finally(function(t){e.changePlan.isBusy=!1})},e.cancel=function(){t.dismiss("cancel")}},resolve:{plans:function(){return s},currentSubscription:function(){return t.subscriptions.filter(function(e){return"active"===e.status})[0]}}};u.showModal(n,{}).then(function(t){e.reload()})}}]),angular.module("freebe.transaction_details_controller",[]).controller("TransactionDetailsController",TransactionDetailsController),TransactionDetailsController.$inject=["$scope","transaction"],angular.module("freebe.transfer_controller",["freebe.services"]).controller("TransferController",["$scope","$timeout","$location","subaccountService","transactionService","fromAccounts","banks","beneficiaries",function(e,t,n,a,i,r,o,s){e.fromAccounts=r.map(function(e){return{id:e.subaccountId,name:e.accountNumber}}),e.banks=o,e.beneficiaries=s,e.selectedBeneficiaries={},e.transferType=[{name:"To Bank Account",id:"bank-account"},{name:"To Beneficiary",id:"beneficiary"},{name:"To Freebe User",id:"freebe-user"}],e.form={},e.transfer={},e.initialize=function(){e.transfer={type:e.transferType[0].id,fromAccount:{},toAccount:{id:"",accountNumber:"",accountName:"",phoneNumber:""},beneficiary:{},amount:"",remark:"",complete:!1,successful:!1},e.state={},e.resetWizard&&e.resetWizard()},e.wizardOptions={finishButton:!0,titleClick:!0,block:!0,validate:!0},e.resetWizard=null,e.transferTypeChanged=function(){e.transfer.toAccount={id:"",accountNumber:"",accountName:"",phoneNumber:""}},e.accountNumberLength=10,e.validateAccountNumber=function(){e.transfer.toAccount.accountName="",e.transfer.bank&&e.transfer.toAccount.accountNumber.length==e.accountNumberLength&&(e.state={busy:!0,message:"Validating account number..."},a.validateAccountNumber(e.transfer.bank.code,e.transfer.toAccount.accountNumber).then(function(t){e.transfer.toAccount.destination=2,e.transfer.toAccount.accountName=t,e.transfer.toAccount.type="bank_account",e.transfer.toAccount.accountType="Bank Account",e.state={}}))},e.freebeUserSelected=function(t){e.transfer.toAccount.accountType="",t&&(e.transfer.toAccount.id=t.id,e.transfer.toAccount.destination=0,e.transfer.toAccount.accountNumber=t.accountNumber,e.transfer.toAccount.accountName=t.accountName,e.transfer.toAccount.type=t.type,e.transfer.toAccount.accountType=t.accountType||t.type,e.transfer.toAccount.phoneNumber="")},e.beneficiarySelected=function(t){e.transfer.toAccount.accountType="",t&&(e.transfer.toAccount.id=t.id,e.transfer.toAccount.destination=1,e.transfer.toAccount.accountNumber=t.accountNumber,e.transfer.toAccount.accountName=t.accountName,e.transfer.toAccount.type=t.type,e.transfer.toAccount.accountType=t.accountType||t.type,e.transfer.toAccount.phoneNumber="")},e.resetTransferForm=function(){e.initialize(),e.form.transfer.$setPristine()},e.completeTransfer=function(){var t={SourceAccountId:e.transfer.fromAccount.id,SourceAccountPin:e.transfer.fromAccount.pin||"",ToSubaccountId:e.transfer.toAccount.id||"",DestinationAccount:{DestinationAccountId:e.transfer.toAccount.id||"",Destination:e.transfer.toAccount.destination||0,BankCode:e.transfer.bank&&e.transfer.bank.code,AccountNumber:e.transfer.toAccount.accountNumber,Type:e.transfer.toAccount.type},purpose:"Transfer",Remark:e.transfer.remark,Amount:Number(e.transfer.amount)};e.state={busy:!0,message:"Processing Transfer, Please wait..."},i.transfer(t,{},function(e){n.path("/paylink/transactions/"+e.TransactionId)},function(t){e.state={}})},e.getFreebeAccounts=function(e){return a.getAccounts("deposit",e).then(function(e){var t=[];return angular.forEach(e,function(e){t.push(e)}),t})}}]),angular.module("freebe.wallet_controller",["ngGrid","freebe.services"]).controller("WalletController",["$scope","$state","$filter","modalService","profile","wallet","walletService","subaccountService","transactionService",function(e,t,n,a,i,r,o,s,l){e.wallet=r,e.form={},e.walletForm={},e.topup=function(e){var o={templateUrl:"/my/template/views/wallet/topUp.html",controller:function(e,a,i){e.cards=i,e.topup={amount:"",card:null,cardPin:"",isBusy:!1},e.ok=function(){e.topup.isBusy=!0;var i={SourceAccountId:e.topup.card.id,SourceAccountPin:e.topup.cardPin,ToSubaccountId:r.id||"",DestinationAccount:{DestinationAccountId:r.id||"",Destination:0,BankCode:null,AccountNumber:r.accountNumber,Type:"wallet"},purpose:"Wallet Topup",Remark:"wallet topup",Amount:Number(e.topup.amount)};l.transfer(i,{headerText:"Freebe Wallet Top Up ("+n("currency")(e.topup.amount,"NGN ")+")",bodyText:"Are you sure you want to transfer "+n("currency")(e.topup.amount,"NGN ")+"\n                from card "+e.topup.card.accountNumber+" to your wallet?"},function(n){e.topup.isBusy=!1,a.close(),t.go("transaction-details",{id:n.TransactionId})},function(t){e.topup.isBusy=!1})},e.cancel=function(){a.dismiss("cancel")}},resolve:{cards:function(e){return e.getAccounts("card",i.email)}}};a.showModal(o,{}).then(function(){})},e.withdraw=function(r){var o={templateUrl:"/my/template/views/wallet/withdraw.html",controller:function(e,a,i,r){e.banks=i,e.wallet=r,e.withdraw={amount:"",bank:null,walletPin:"",isBusy:!1},e.ok=function(){e.withdraw.isBusy=!0;var i={SourceAccountId:r.id,SourceAccountPin:e.withdraw.walletPin,ToSubaccountId:e.withdraw.bank.id||"",DestinationAccount:{DestinationAccountId:e.withdraw.bank.id||"",Destination:0,BankCode:e.withdraw.bank.code,AccountNumber:e.withdraw.bank.accountNumber,Type:e.withdraw.bank.type},purpose:"Wallet Withdrawal",Remark:"wallet withdrawal",Amount:Number(e.withdraw.amount)};l.transfer(i,{headerText:"Freebe Wallet Withdrawal ("+n("currency")(e.withdraw.amount,"NGN ")+")",bodyText:"Are you sure you want to transfer "+n("currency")(e.withdraw.amount,"NGN ")+"\n                from your wallet to bank "+e.withdraw.bank.bankName+" ("+e.withdraw.bank.accountNumber+")?"},function(n){e.withdraw.isBusy=!1,a.close(),t.go("transaction-details",{id:n.TransactionId})},function(t){e.withdraw.isBusy=!1})},e.cancel=function(){a.dismiss("cancel")}},resolve:{banks:function(e){return e.getAccounts("bank_account",i.email)},wallet:function(){return e.wallet}}};a.showModal(o,{}).then(function(){})},e.create=function(t){e.clearAlert(),e.isBusy=!0,o.create(Object.assign({},t,{Type:"wallet"})).then(function(t){e.wallet=t}).catch(function(t){e.alert={type:"danger",msg:t.message}}).finally(function(){e.isBusy=!1})},e.changeStatus=function(){e.clearAlert(),a.showModal({},{}).then(function(){return e.isBusy=!0,s.changeStatus(e.wallet.id,!e.wallet.active)}).then(function(t){e.wallet=t}).finally(function(){e.isBusy=!1})},e.changePin=function(){var t={templateUrl:"/my/template/views/wallet/pinChange.html",controller:function(e,t,n){e.pinChange={subaccountId:n.id,oldPin:"",newPin:"",isBusy:!1},e.ok=function(){e.pinChange.isBusy=!0,s.changePin(e.pinChange,function(n){e.pinChange.isBusy=!1,t.close()},function(t){e.pinChange.isBusy=!1})},e.cancel=function(){t.dismiss("cancel")}},resolve:{wallet:function(){return e.wallet}}};a.showModal(t,{}).then(function(){})},e.clearAlert=function(){e.alert={}}}]),angular.module("freebe.directives",[]).directive("tileReport",["$http",function(e){return{restrict:"E",scope:{item:"=data"},templateUrl:"/my/template/views/templates/tile-report.html",replace:!0,transclude:!0,link:function(t){e.get("/api/v1.0/paylink/report/"+t.item.resource).then(function(e){t.item.value=e.data}).catch(function(e){t.item.value=0})}}}]),angular.module("freebe.services",[]),angular.module("freebe.services").service("accountService",["$http","$auth","pinesNotifications",function(e,t,n){var a={type:"error",delay:1e4};this.changePassword=function(t){return e.post("/account/change-password",{OldPassword:t.oldPassword,Password:t.newPassword,ConfirmPassword:t.newPasswordConfirm}).then(function(e){if(!e.data)throw Error("Old Password is not correct");a.type="success",a.text="Account password changed successfully.",n.notify(a)}).catch(function(e){throw a.type="error",a.text="Error changing account password. "+e.message,n.notify(a),e})}}]),angular.module("freebe.services").service("beneficiaryService",["$http","$auth","pinesNotifications",function(e,t,n){var a={type:"error",delay:1e4};this.getAll=function(){return e.get("/api/v1.0/views/paylink/beneficiaries/all").then(function(e){return e.data.map(function(e){return{id:e.BeneficiaryId,subaccountId:e.BeneficiaryId,type:"bank_account",accountType:"Bank Account",accountName:e.AccountName,accountNumber:e.AccountNumber}})}).catch(function(e){a.text="Error retrieving beneficiaries.",n.notify(a)})}}]),angular.module("freebe.services").service("customerService",["$http","$auth","pinesNotifications",function(e,t,n){var a="/api/v1.0/paylink/customers/",i={type:"error",delay:1e4};this.update=function(r){return e.post(a+"update/"+t.user.email,{Phone:r.phone,Bvn:r.bvn,FirstName:r.firstName,LastName:r.lastName,Email:r.email,Avatar:r.avatar||""}).then(function(e){var r=e.data;return angular.extend(t.user,{customerCode:r.CustomerCode,lastName:r.LastName,firstName:r.FirstName,phone:r.Phone,updatedAt:r.UpdatedAt,bvn:r.Bvn,isValidated:r.IsVerified,avatar:r.Avatar?r.Avatar:a+"avatar/500/500/avatar.png"}),i.type="success",i.text="Account details updated successfully.",n.notify(i),r}).catch(function(e){i.type="error",i.text="Error updating account details.",n.notify(i)})},this.get=function(n){return e.get(a+"get/"+n).then(function(e){var n,i=e.data,r=(n={id:i.CustomerId,customerCode:i.CustomerCode,phone:i.Phone,email:i.Email,firstName:i.FirstName,lastName:i.LastName},_defineProperty(n,"customerCode",i.CustomerCode),_defineProperty(n,"createdAt",i.CreatedAt),_defineProperty(n,"updatedAt",i.UpdatedAt),_defineProperty(n,"bvn",i.Bvn),_defineProperty(n,"isValidated",i.IsValidated),_defineProperty(n,"avatar",i.Avatar?i.Avatar:a+"avatar/500/500/avatar.png"),n);return angular.extend(t.user,r),r})}}]),angular.module("freebe.services").service("reportService",["$http","$auth","pinesNotifications",function(e,t,n){var a={type:"error",delay:1e4};this.getTransactionStatistics=function(t,i){return e.get("/api/v1.0/paylink/report/transaction-statistics/"+t+"/"+i).then(function(e){return e.data.map(function(e){return{transaction_date:e.TransactionDate,transfers:e.Transfers,received:e.Received}})}).catch(function(e){a.text="Error retrieving transaction statistics.",n.notify(a)})}}]),angular.module("freebe.services").service("subaccountService",["$http","$auth","pinesNotifications","modalService",function(e,t,n,a){var i="/api/v1.0/paylink/subaccounts/",r={type:"error",delay:1e4};this.getAccounts=function(t,n){return e.get(i+t+"/getall/"+n).then(function(e){return e.data.map(function(e){return{id:e.SubaccountId,subaccountId:e.SubaccountId,type:e.Type,accountType:e.Type,bankName:e.BankName,bankCode:e.BankCode,accountName:e.AccountName,accountNumber:e.AccountNumber}})}).catch(function(e){})},this.getBanks=function(){return e.get(i+"get-banks").then(function(e){return e.data.sort(function(e,t){return e.name>t.name})}).catch(function(e){r.text="Error retrieving banks.",n.notify(r)})},this.validateAccountNumber=function(t,a){return e.post(i+"validateAccountNumber",{bankCode:t,accountNumber:a}).then(function(e){return e.data}).catch(function(e){r.title="Error validating account number",r.text=e.data.ExceptionMessage,n.notify(r)})},this.changeStatus=function(t,a){return e.get(""+i+t+"/"+a).then(function(e){var t={text:"Account "+(a?"activated":"deactivated")+" successfully",type:"success",delay:1e4};n.notify(t);var i=e.data;return{id:i.SubaccountId,subaccountId:i.SubaccountId,type:i.Type,bankName:i.BankName,bankCode:i.BankCode,accountType:i.Type,accountName:i.AccountName,accountNumber:i.AccountNumber,balance:i.Balance,dailyMaxDeposit:i.DailyMaxDeposit,dailyMaxWithdrawal:i.DailyMaxWithdrawal,active:i.Active}}).catch(function(e){var t=a?"activating":"deactivating";r.title="Error "+t+" account",r.text=e.data.ExceptionMessage,n.notify(r)})},this.changePin=function(t,o,s){var l={actionButtonText:"Proceed",closeButtonText:"Cancel",headerText:"Freebe PIN change request",bodyText:"Are you sure you want to change the PIN for this account?"};a.showModal({},l).then(function(){return e.post(i+"updatePin",t)}).then(function(e){var t={text:"Account PIN changed successfully",type:"success",delay:1e4};n.notify(t),"function"==typeof o&&o(e)}).catch(function(e){r.title=e.ExceptionMessage,r.text=e.data.ExceptionMessage,n.notify(r),"function"==typeof s&&s(e)})}}]),angular.module("freebe.services").service("subscriptionService",["$http","$auth","pinesNotifications","modalService",function(e,t,n,a){var i={type:"error",delay:1e4};this.getAll=function(t){return e.get("/api/v1.0/paylink/subscriptions/"+t).then(function(e){return e.data.map(function(e){return{id:e.SubscriptionId,code:e.SubscriptionCode,isTrialing:e.TrialEnd&&e.TrialEnd>new Date,trialEnd:e.TrialEnd,startDate:e.StartDate,endDate:e.EndDate,status:e.Status,plan:{id:e.SubscriptionPlanId,name:e.Name,interval:e.Interval,trialPeriodInDays:e.TrailPeriodDays,amount:e.Amount,currency:e.Currency}}})}).catch(function(e){i.text="Error retrieving subscriptions.",n.notify(i)})},this.getPlans=function(){return e.get("/api/forms/paylink/subscription_plans/all").then(function(e){return e.data.map(function(e){return{id:e.SubscriptionPlanId,code:e.SubscriptionPlanCode,name:e.Name,interval:e.Interval,trialPeriodInDays:e.TrialPeriodDays,amount:e.Amount,currency:e.Currency,description:e.Description}})}).catch(function(e){i.text="Error retrieving subscription plans.",n.notify(i)})},this.create=function(t){return e.post("/api/v1.0/paylink/subscriptions/create",t).then(function(e){return e.data}).catch(function(e){throw i.text="Error creating subscription.",n.notify(i),e})},this.cancel=function(t,a){return e.get("/api/v1.0/paylink/subscriptions/cancel?subscriptionCode="+t+"&reason="+a).then(function(e){return e.data}).catch(function(e){throw i.text="Error canceling subscription.",n.notify(i),e})},this.activate=function(t,a){return e.get("/api/v1.0/paylink/subscriptions/reactivate/"+t).then(function(e){return e.data}).catch(function(e){throw i.text="Error activating subscription.",n.notify(i),e})},this.changePlan=function(t){return e.post("/api/v1.0/paylink/subscriptions/changePlan",t).then(function(e){return e.data}).catch(function(e){throw i.text="Error changing subscription plan.",n.notify(i),e})}}]),angular.module("freebe.services").factory("transactionService",["$http","$location","$auth","modalService","pinesNotifications","progressLoader",function(e,t,n,a,i,r){var o="/api/v1.0/paylink/transactions/",s={type:"error",delay:1e4},l=function t(n,l,c,u){return r.start(),r.set(50),e.post(o+n,l).then(function(e){var t=e.data;if(!t.TransactionId)throw Error("Unknow error encountered");return t}).then(function(e){if(e.RequireValidation){var o={actionButtonText:"Proceed",closeButtonText:"Cancel",headerText:"Authorization Required",bodyText:e.Message,amount:e.Amount,fees:e.Fees},l={controller:function(e,t){e.otp="",e.modalOptions=o,e.modalOptions.ok=function(e){t.close(e)},e.modalOptions.close=function(){t.dismiss("cancel")}},templateUrl:"/my/template/views/templates/otp-modal.html"};a.showModal(l,o).then(function(a){t(n,{Reference:e.Reference,Code:a},c,u)}).catch(function(e){"function"==typeof u&&u(e)})}else r.end(),s.type="success",s.text="Transaction processed successfully!",i.notify(s),"function"==typeof c&&c(e)}).catch(function(e){r.end(),s.type="error",s.text=e.data.ExceptionMessage,i.notify(s),"function"==typeof u&&u(e)})};return{get:function(t){return e.get("/api/v1.0/forms/paylink/transactions/"+t).then(function(e){var t=e.data;return{id:t.TransactionId,transactionId:t.TransactionId,amount:t.Amount,fees:t.Fees,currency:t.Currency,transactionDate:t.TransactionDate,fromAccount:{id:t.FromSubaccountId,accountName:t.FromSubaccountName,accountNumber:t.FromSubaccountNumber,type:t.FromSubaccountType},toAccount:{id:t.ToSubaccountId,accountName:t.ToSubaccountName,accountNumber:t.ToSubaccountNumber,type:t.ToSubaccountType},reference:t.Reference,remark:t.Remark,purpose:t.Purpose,completed:t.Completed,message:t.Message,type:t.Type}}).catch(function(e){s.type="error",s.text="Error retrieving transaction details.",i.notify(s)})},getRecent:function(){return e.get("/api/v1.0/views/paylink/transaction_view").then(function(e){return e.data.map(function(e){return{id:e.TransactionId,transactionId:e.TransactionId,amount:e.Amount,fees:e.Fees,currency:e.Currency,transactionDate:e.TransactionDate,fromAccount:{id:e.FromSubaccountId,accountName:e.FromSubaccountName,accountNumber:e.FromSubaccountNumber,type:e.FromSubaccountType},toAccount:{id:e.ToSubaccountId,accountName:e.ToSubaccountName,accountNumber:e.ToSubaccountNumber,type:e.ToSubaccountType},reference:e.Reference,purpose:e.Purpose,remark:e.Remark,completed:e.Completed,message:e.Message,type:e.Type}})}).catch(function(e){s.type="error",s.text="Error retrieving recent transactions.",i.notify(s)})},transfer:function(e,t,n,i){var r={actionButtonText:"Proceed",closeButtonText:"Cancel",headerText:"Freebe Transfer (NGN "+e.Amount+")",bodyText:"Are you sure you want to transfer "+e.Amount+"?"};angular.extend(r,t),a.showModal({},r).then(function(){l("transfer",e,n,i)}).catch(function(e){"function"==typeof i&&i(e)})},pay:function(e,t,n,i){var r={actionButtonText:"Proceed",closeButtonText:"Cancel",headerText:"Freebe Bill Payment (NGN "+e.Amount+")",bodyText:"Are you sure you want to pay "+e.Amount+"?"};angular.extend(r,t),a.showModal({},r).then(function(){l("bill",e,n,i)}).catch(function(e){"function"==typeof i&&i(e)})},getMerchants:function(){return e.get(o+"get-merchants").then(function(e){return e.data}).catch(function(e){s.type="error",s.text="Error retrieving mobile top up merchants.",i.notify(s)})},getProducts:function(t){return e.get(o+"merchant/"+t+"/products").then(function(e){return e.data}).catch(function(e){s.type="error",s.text="Error retrieving mobile top up merchant products.",i.notify(s)})}}}]),angular.module("freebe.services").service("walletService",["$http","$auth","pinesNotifications",function(e,t,n){var a="/api/v1.0/paylink/subaccounts/",i={type:"error",delay:1e4};this.create=function(t){return e.post(a+"add",t).then(function(e){return t=e.data,{id:t.SubaccountId,subaccountId:t.SubaccountId,type:t.Type,accountType:t.Type,accountName:t.AccountName,accountNumber:t.AccountNumber,balance:t.Balance,dailyMaxDeposit:t.DailyMaxDeposit,dailyMaxWithdrawal:t.DailyMaxWithdrawal,active:t.Active}}).catch(function(e){i.text="Error retrieving your wallet details.",n.notify(i)})},this.get=function(){return e.get(a+"wallet/getall/"+t.user.email).then(function(e){if(e.data.length>0){var t=e.data[0];return{id:t.SubaccountId,subaccountId:t.SubaccountId,type:t.Type,accountType:t.Type,accountName:t.AccountName,accountNumber:t.AccountNumber,balance:t.Balance,dailyMaxDeposit:t.DailyMaxDeposit,dailyMaxWithdrawal:t.DailyMaxWithdrawal,active:t.Active}}return null}).catch(function(e){i.text="Error retrieving your wallet details.",n.notify(i)})}}]),angular.module("theme.chart.canvas",[]).directive("canvasChart",["$window",function(e){return{restrict:"EA",scope:{data:"=canvasChart",options:"=options",type:"="},link:function(t,n){t.$watch("data",function(a,i){if(e.Chart){var r=new e.Chart(angular.element(n)[0].getContext("2d"))[t.type](t.data,t.options).generateLegend();$(".js-legend").append(r)}},!0)}}}]),angular.module("theme.chart.flot",[]).directive("flotChart",function(){return{restrict:"AE",scope:{data:"=flotData",options:"=flotOptions",plothover:"&plotHover",plotclick:"&plotClick"},link:function(e,t){var n=angular.element.plot(angular.element(t),e.data,e.options);angular.element(t).bind("plothover",function(t,n,a){e.plothover({event:t,position:n,item:a})}),angular.element(t).bind("plotclick",function(t,n,a){e.plotclick({event:t,position:n,item:a})}),e.$watch("data",function(e){n.setData(e),n.setupGrid(),n.draw()}),e.$watch("options",function(a){n=angular.element.plot(angular.element(t),e.data,a)},!0)}}}),angular.module("theme.chart.morris",[]).directive("svgChart",["$window",function(e){return{restrict:"EA",scope:{options:"=svgChart",type:"="},link:function(t,n,a){if(e.Morris){var i;i=angular.element(n).attr("id")?angular.element(n).attr("id"):angular.element(n).attr("id",t.type+a.svgChart),e.Morris[t.type](angular.extend(t.options,{element:i}))}}}}]),angular.module("theme.chart.sparklines",[]).directive("sparklines",function(){return{restrict:"A",scope:{options:"=sparklines",values:"=data"},link:function(e,t,n){function a(){e.values?angular.element(o).sparkline(e.values,i):angular.element(o).sparkline("html",i)}var i={};e.options&&(i=angular.copy(e.options));var r=angular.element(t).closest("sparklines-composite"),o=t;r.length&&(r.find("span.sparklines-container").length<1&&r.append('<span class="sparklines-container"></span>'),(o=r.find("span.sparklines-container")).find("canvas").length&&(i.composite=!0,i.enableTagOptions=!0),n.values?o.attr("values",n.values):o.removeAttr("values")),e.$watch(function(){return t.is(":visible")},function(){a()}),a()}}});var paylinkApp=angular.module("PaylinkApp",["freebe"]);paylinkApp.config(["$stateProvider","$urlRouterProvider","$locationProvider","$authProvider","$httpProvider","ChartJsProvider","KeepaliveProvider","IdleProvider",function(e,t,n,a,i,r,o,s){n.html5Mode({enabled:!0,requireBase:!1}),r.setOptions({chartColors:["#FF5252","#80b6ff","#803690","#c980ff"],responsive:!0}),t.otherwise("/paylink/login"),e.state("paylink",{abstract:!0,resolve:{profile:["$auth","customerService",function(e,t){return e.validateUser().then(function(){return t.get(e.user.email)})}]}}).state("login",{url:"^/paylink/login",params:{returnUrl:"dashboard"},templateUrl:"/my/template/views/user/login.html",controller:"SignInController"}).state("google-login",{url:"^/paylink/google-login",templateUrl:"/my/template/views/user/google-login.html",controller:"SignInController"}).state("facebook-login",{url:"^/paylink/facebook-login",templateUrl:"/my/template/views/user/facebook-login.html",controller:"SignInController"}).state("signup",{url:"^/paylink/signup",templateUrl:"/my/template/views/user/signup.html",controller:"RegistrationController"}).state("signup-successful",{url:"^/paylink/signup-successful",templateUrl:"/my/template/views/user/email-sent.html",controller:"RegistrationController"}).state("forgotpassword",{url:"^/paylink/forgotpassword",templateUrl:"/my/template/views/user/forgotpassword.html",controller:"ForgotPasswordController",resolve:{token:["$http",function(e){return e.get("/account/reset/get-token").then(function(e){return e.data.Token})}]}}).state("reset-successful",{url:"^/paylink/reset-successful",templateUrl:"/my/template/views/user/reset-email-sent.html",controller:"SignInController"}).state("profile",{parent:"paylink",url:"^/paylink/profile",templateUrl:"/my/template/views/user/profile.html",controller:"ProfileController"}).state("subscribe",{parent:"paylink",url:"^/paylink/subscribe",templateUrl:"/my/template/views/user/subscribe.html",controller:"SubscribeController",resolve:{banks:["subaccountService",function(e){return e.getBanks()}],subscriptions:["profile","subscriptionService",function(e,t){return t.getAll(e.email)}],plans:["profile","subscriptionService",function(e,t){return t.getPlans()}],cards:["profile","subaccountService",function(e,t){return t.getAccounts("card",e.email)}]}}).state("dashboard",{parent:"paylink",url:"^/paylink/dashboard",templateUrl:"/my/template/views/dashboard.html",resolve:{loadChartsJs:["$ocLazyLoad",function(e){return e.load(["/bower_components/Chartjs/Chart.min.js"])}]}}).state("bank-accounts",{parent:"paylink",url:"^/paylink/bank-accounts?View=grid",templateUrl:"/my/template/views/bank-accounts.html",reloadOnSearch:!1}).state("payment-cards",{parent:"paylink",url:"^/paylink/payment-cards",templateUrl:"/my/template/views/payment-cards.html",reloadOnSearch:!1}).state("beneficiaries",{parent:"paylink",url:"^/paylink/beneficiaries?View=grid",templateUrl:"/my/template/views/beneficiaries.html",reloadOnSearch:!1}).state("wallet",{parent:"paylink",url:"^/paylink/wallet",templateUrl:"/my/template/views/wallet/index.html",controller:"WalletController",resolve:{wallet:["walletService",function(e){return e.get()}]}}).state("wallet-topup",{parent:"wallet",url:"^/paylink/wallet/topup",templateUrl:"/my/template/views/wallet/topUp.html",controller:"WalletController",resolve:{}}).state("wallet-withdrawal",{parent:"paylink",url:"^/paylink/wallet/withdrawal",templateUrl:"/my/template/views/wallet/withdrawal.html",controller:"WalletController",resolve:{}}).state("transfer",{parent:"paylink",url:"^/paylink/transfer",templateUrl:"/my/template/views/transfer.html",controller:"TransferController",resolve:{fromAccounts:["profile","subaccountService",function(e,t){return t.getAccounts("withdrawal",e.email)}],banks:["subaccountService",function(e){return e.getBanks()}],beneficiaries:["beneficiaryService",function(e){return e.getAll()}]}}).state("transactions",{parent:"paylink",url:"^/paylink/transactions",templateUrl:"/my/template/views/transactions/index.html",reloadOnSearch:!1}).state("transaction-details",{parent:"paylink",url:"^/paylink/transactions/:id",templateUrl:"/my/template/views/transactions/details.html",controller:"TransactionDetailsController",reloadOnSearch:!1,resolve:{transaction:["$stateParams","transactionService",function(e,t){return t.get(e.id)}]}}).state("mobile-topup",{parent:"paylink",url:"^/paylink/mobile-topup",templateUrl:"/my/template/views/bill-payment/mobile-topup.html",controller:"BillPaymentController",resolve:{fromAccounts:["profile","subaccountService",function(e,t){return t.getAccounts("withdrawal",e.email)}],merchants:["transactionService",function(e){return e.getMerchants()}]}}).state("bill-payment",{parent:"paylink",url:"^/paylink/bill-payment",templateUrl:"/my/template/views/bill-payment/index.html",controller:"BillPaymentController",resolve:{fromAccounts:["profile","subaccountService",function(e,t){return t.getAccounts("withdrawal",e.email)}],merchants:["transactionService",function(e){return e.getMerchants()}]}}).state("bill-payment.product",{url:"^/paylink/bill-payment/:id",templateUrl:"/my/template/views/bill-payment/product.html",controller:"BillPaymentController"}).state("/paylink/:templateFile",{templateUrl:function(e){return"/my/template/views/"+e.templateFile+".html"},reloadOnSearch:!1}),a.configure({apiUrl:"/",tokenValidationPath:"account/validate-token",signOutUrl:"account/sign-out-mobile",emailRegistrationPath:"account/sign-up",accountUpdatePath:"account/update",accountDeletePath:"account/delete",confirmationSuccessUrl:"account/paylink",passwordResetPath:"account/reset",passwordUpdatePath:"account/change-password",passwordResetSuccessUrl:"account/token/login",emailSignInPath:"account/sign-in",storage:"localStorage",forceValidateToken:!1,validateOnPageLoad:!0,proxyIf:function(){return!1},proxyUrl:"/proxy",omniauthWindowType:"newWindow",authProviderPaths:{facebook:"paylink/facebook-login",google:"paylink/google-login"},tokenFormat:{"access-token":"{{ token }}","token-type":"Bearer",client:"{{ clientId }}",expiry:"{{ expiry }}",uid:"{{ uid }}"},parseExpiry:function(e){return 1e3*parseInt(e.expiry)||null},handleLoginResponse:function(e){return e.data.data},handleAccountUpdateResponse:function(e){return e.data.data},handleTokenValidationResponse:function(e){return e.data.data}}),i.interceptors.push("httpRequestInterceptor"),s.idle(600),s.timeout(30)}]),paylinkApp.run(["$rootScope","$state",function(e,t){e.$on("$stateChangeSuccess",function(e,t,n,a,i){}),e.$on("$stateChangeError",function(e,n,a,i){t.go("login",{returnUrl:n.name})})}]);